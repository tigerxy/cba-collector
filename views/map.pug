extends layout

block head
    link(rel="stylesheet",href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css")
    script(src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js")
    script(src="/javascripts/leaflet.CenterCross.js")
    style.
      html,body,#full {
        padding: 0px;
        margin: 0px;
        height: 100%;
      }
      #mainDialog {
        flex-basis: auto;
      }
      .dialog {
        padding: 10px;
        transition: flex-basis 200ms ease-in-out;
      }
      .inactive {
        flex-basis: 0px;
        display: none;
      }

block content
  #full.d-flex.flex-column.flex-sm-column.flex-md-column.flex-lg-row.flex-xl-row.align-items-stretch
    .flex-grow-1
      #map
    #mainDialog.flex-grow-0.dialog
      button.openDialog.btn.btn-lg.btn-primary.btn-block(type='button',open='add') Haufen eintragen
    #addDialog.flex-grow-0.dialog.inactive
      h5 Haufen eintragen
      .form-group
        label(for='size') Bitte Größe auswählen
        br
        #size.btn-group.btn-group-toggle(data-toggle='buttons')
          +radio-button(1,true) 木
          +radio-button(2) 林
          +radio-button(3) 森  
      .btn-group(role='group')
        button.openDialog.btn.btn-lg.btn-secondary(type='button',open='main') Abbrechen      
        button#add.btn.btn-lg.btn-primary(type='button') Hinzufügen
    #editDialog.flex-grow-0.dialog.inactive
      table.table
        thead
          tr
            th(scope="col") Zeit
            th(scope="col") Aktion
        tbody#editLog
      case permissionLevel
        when 3
          .input-group
            select#user.form-control
              option 1
              option 2
      .btn-group(role='group')
        button.openDialog.btn.btn-lg.btn-secondary(type='button',open='main') Abbrechen  
        case permissionLevel
          when 1
            button#delete.btn.btn-lg.btn-danger(type='button') Löschen
          when 2
            button#collect.btn.btn-lg.btn-success(type='button') Abgeholt
          when 3
            button#delete.btn.btn-lg.btn-danger(type='button') Löschen
            button#collect.btn.btn-lg.btn-success(type='button') Abgeholt
            button#assign.btn.btn-lg.btn-primary(type='button') Zuweisen
 

  .fixed-top
    #alert

  script const token = '#{token}';
  script const secLevel = '#{permissionLevel}';
  script(src='/javascripts/map.js')